name: Update WakaTime Stats
on:
  schedule:
    - cron: '0 0 * * *'    # daily at midnight UTC
  workflow_dispatch:       # manual trigger

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Inject WakaTime stats
        uses: claserre9/wakatime-stats@master
        with:
          WAKATIME_API_KEY:     ${{ secrets.WAKATIME_API_KEY }}
          WAKATIME_USER_ID:     ${{ secrets.WAKATIME_USER_ID }}
          GH_TOKEN:             ${{ secrets.GH_TOKEN }}
          TABLE_STYLE:          'box-double'      # options: default, box, box-double
          MAX_LANGUAGES:        '7'               # show top 7 languages
          WAKATIME_TIME_RANGE:  'last_30_days'    # last_7_days, last_6_months, all_time

